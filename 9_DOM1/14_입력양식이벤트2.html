<!doctype html>
<html lang="ko">
	<head>
		<meta charset="utf-8" />
		<title>DOM - 이벤트</title>
        <style>
            div {
                width: 200px; height: 100px;
                border: 3px solid #000;
            }
        </style>
    </head>
	<body>
        <input type="checkbox" id="chk01" class="check">
        <label for="chk01">약관1</label>
        <br>
        <input type="checkbox" id="chk02" class="check">
        <label for="chk02">약관2</label>
        <br>
        <input type="checkbox" id="chk03" class="check">
        <label for="chk03">약관3</label>
        <br>
        <input type="checkbox" id="allChk">
        <label for="allChk">모두 동의</label>
        <script>
            //문서객체선택

            var chk01 = document.getElementById('chk01');
            var chk02 = document.getElementById('chk02');
            var chk03 = document.getElementById('chk03');
            var ckeck = document.querySelectorAll('.check');
            var allChk = document.getElementById('allChk');
            
            //checked : 체크박스나 라디오 버튼에 체크상황을 컨트롤
            //          true/false로 값을 처리

            //change : form관련 태그에 값이 변경되었을 때
            allChk.addEventListener('change',function(){
                var chk = this.checked;
                if(chk){ //체크가 되었다면, 체크가 트루라면
                    for(var i in check){
                        check[i].checked = true;
                        }
                    }else{
                        for(var i in check){
                            check[i].checked = false;
                        }
                    }
                });

            //각각 체크박스에 change이벤트 처리
            for(var i in check){
                check[i].addEventListener('change',function(){
                    //세개가 모두 체크되었다면
                    if(chk01.checked && check02.checked && check03.checked){
                        allChk.checked = true;
                    }else{ //하나라도 미체크라면
                        allChk.checked = false;
                    }
                });
            }
        </script>
	</body>
</html>